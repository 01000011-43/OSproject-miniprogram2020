# 2020/9/19

许茂泽

## 1. 代码实践

### （1）滑雪

Michael喜欢滑雪百这并不奇怪， 因为滑雪的确很刺激。可是为了获得速度，滑的区域必须向下倾斜，而且当你滑到坡底，你不得不再次走上坡或者等待升降机来载你。Michael想知道载一个区域中最长的滑坡。区域由一个二维数组给出。数组的每个数字代表点的高度。下面是一个例子

```
 1  2  3  4 5
16 17 18 19 6
15 24 25 20 7
14 23 22 21 8
13 12 11 10 9
```

此题使用了DFS+DP思想，在搜索的过程中同时记录从每个点开始下滑的最长距离，每个点开始下滑的最长距离等于其周围四个点中最长距离+1

```C++
#include<stdio.h>
#include<iostream>
#include<stdlib.h> 
using namespace std;

int height[105][105]; //雪地高度 
int snow[105][105];  //从每个点开始下滑的最长距离 
int dir[4][2] = {{-1, 0}, {1, 0}, {0, -1}, {0, 1}};
int row,col;

int dfs(int x,int y){
	if(snow[x][y]>0){  //说明已经计算过了 
		return snow[x][y];
	}
	int tmp=0;
	for(int i=0;i<4;i++){
		int newx=x+dir[i][0];
		int newy=y+dir[i][1];
		if(newx>=0&&newx<row&&newy>=0&&newy<col&&height[newx][newy]<height[x][y]){
			tmp=max(tmp,dfs(newx,newy));     //四个方向中取最大的 
		}
	}
	tmp+=1;
	snow[x][y]=tmp;
	return tmp;
} 

int main(){
	cin>>row>>col;
	int ans=0;
	for(int i=0;i<row;i++){
		for(int j=0;j<col;j++){
			cin>>height[i][j];
		}
	}
	for(int i=0;i<row;i++){
		for(int j=0;j<col;j++){
			ans=max(ans,dfs(i,j));
		}
	}
	cout<<ans;
	return 0;
	
}
```

### （2）数组连续子序列最大和

基本思想：如果某一段连续子序列之和已经小于0了，那就不如直接舍弃这段

设置一尾指针，从前往后扫描过程中记录序列最大和，时间复杂度O(n)

```C++
#include<stdio.h>
#include<iostream>
#include<vector>
#include<stdlib.h>
using namespace std;

int main(){
	int n;
	cin>>n;
	while(n){
		vector<int> num;
		for(int i=0;i<n;i++){
			int tmp;
			cin>>tmp;
			num.push_back(tmp);
		}
		int max=0;
		int end=0;
		int tmp=0;
		while(end<n){
			if(tmp+num[end]<0){
				tmp=0;
			}
			else{
				tmp+=num[end];
				if(tmp>max){
					max=tmp;
				}
			}
			end++;
		}
		cout<<max<<endl;
		cin>>n;
	}
	return 0;
}
```



## 2. 计算机基础知识整理

### 什么是进程

进程-操作系统提供的抽象概念，是系统资源分配的基本单位，是操作系统结构的基础。程序是指令、数据及其组织形式的描述，进程是程序的实体。程序本身是没有生命周期的，它只是存在磁盘上的一些指令,程序一旦运行就是进程。

当程序需要运行时，操作系统将代码和所有静态数据记载到内存和进程的地址空间（每个进程都拥有相同的虚拟地址空间）中，通过创建和初始化栈（局部变量，函数参数和返回地址)、分配堆内存以及与IO相关的任务，当前期准备工作完成，启动程序，OS将CPU的控制权转移到新创建的进程，进程开始运行。

操作系统对进程的控制和管理通过PCB(Processing Control Block)，PCB通常是系统内存占用区中的一个连续存区，它存放着操作系统用于描述进程情况及控制进程运行所需的全部信息(进程标识号,进程状态,进程优先级,文件系统指针以及各个寄存器的内容等)，进程的PCB是系统感知进程的唯一实体。

一个进程至少具有5种基本状态：初始态、执行状态、等待（阻塞）状态、就绪状态、终止状态

- 初始状态：进程刚被创建，由于其他进程正占有CPU所以得不到执行，只能处于初始状态。
- 执行状态：任意时刻处于执行状态的进程只能有一个。
- 就绪状态：只有处于就绪状态的经过调度才能到执行状态
- 等待状态：进程等待某件事件完成
- 停止状态：进程结束

### 进程间的切换

操作系统对把CPU控制权在不同进程之间交换执行的机制成为上下文切换（context switch），即保存当前进程的上下文，恢复新进程的上下文，然后将CPU控制权转移到新进程，新进程就会从上次停止的地方开始。因此，进程是轮流使用CPU的，CPU被若干进程共享，使用某种调度算法来决定何时停止一个进程，并转而为另一个进程提供服务。

### 进程间数据共享

系统中的进程与其他进程共享CPU和主存资源，为了更好的管理主存，现在系统提供了一种对主存的抽象概念，即为虚拟存储器（VM）。它是一个抽象的概念，它为每一个进程提供了一个假象，即每个进程都在独占地使用主存。

虚拟存储器主要提供了三个能力：　

- 将主存看成是一个存储在磁盘上的高速缓存，在主存中只保存活动区域，并根据需要在磁盘和主存之间来回传送数据，通过这种方式，更高效地使用主存
- 为每个进程提供了一致的地址空间，从而简化了存储器管理
- 保护了每个进程的地址空间不被其他进程破坏

> 由于进程拥有自己独占的虚拟地址空间，CPU通过地址翻译将虚拟地址转换成真实的物理地址，每个进程只能访问自己的地址空间。因此，在没有其他机制（进程间通信）的辅助下，进程之间是无法共享数据的

### 什么是线程

线程-也是操作系统提供的抽象概念，是程序执行中一个单一的顺序控制流程，是程序执行流的最小单元，是系统调度和分派的基本单位，因而线程是独立运行的基本单位。一个进程可以有一个或多个线程，同一进程中的多个线程将共享该进程中的全部系统资源，如虚拟地址空间，文件描述符和信号处理等等。

系统利用PCB来完成对进程的控制和管理。同样，系统为线程分配一个线程控制块TCB（Thread Control Block）,将所有用于控制和管理线程的信息记录在线程的控制块中，TCB中通常包括：

- 线程标志符
- 一组寄存器
- 线程运行状态
- 优先级
- 线程专有存储区
- 信号屏蔽

和进程一样，线程同样有五种状态：初始态、执行状态、等待（阻塞）状态、就绪状态和终止状态,线程之间的切换和进程一样也需要上下文切换。

### 进程 VS 线程

- 进程是资源分配基本单位。进程拥有完整的虚拟地址空间，当发生进程切换时，不同的进程拥有不同的虚拟地址空间。而同一进程的多个线程是可以共享同一地址空间
- 线程是CPU调度的基本单位，一个进程包含若干线程。
- 线程比进程小，基本上不拥有系统资源。线程的创建和销毁所需要的时间比进程小很多。
- 由于线程之间能够共享地址空间，因此，需要考虑同步和互斥操作。
- 一个线程的意外终止会影响整个进程的正常运行，但是一个进程的意外终止不会影响其他的进程的运行。因此，多进程程序安全性更高。

## 3. 开源特训营活动

提交每日学习笔记